
{% style %}
  .page-width--narrow{
    max-width:120rem;
    padding: 0 5rem;
  }
  .related-post{
    flex-shrink:0;
    width: 100%;
  }
  .related-post:hover .related-post-title {
    text-decoration: underline;
}
  .related-posts {
    margin-top: 20px;
  margin: 0 auto;
  
  }
  .top-slider{
    display:flex;
    align-items:center;
    justify-content:space-between;
    margin-bottom:15px;
  }
  .top-slider .blog-slider-buttons{
    display:flex;
    align-items:center;
    gap:10px;
  }
.related-post{
  max-width: 260px;
      padding: 10px;
  background-color:#F7F7F7;
    box-sizing: content-box;
    border-radius: 15px;
  margin-bottom: 15px;
  display: flex;
    flex-direction: column;
}

  .related-posts-grid {
    display: flex;
    margin:0 0 40px;
    gap:20px;
     overflow-x: auto;
    max-width: 887px;
  }
/*.related-posts-grid::-webkit-scrollbar-track
{
	border-radius: 10px;
	background-color: #2E2E2E33
}

.related-posts-grid::-webkit-scrollbar
{
  	border-radius: 10px;
	width: 12px;
	background-color: #2E2E2E33;
}

.related-posts-grid::-webkit-scrollbar-thumb
{
	border-radius: 10px;
	background-color:  #2E2E2E;
}
  */
        }
  .related-post-image-container img {
    height: 100%;
    background-color: #eee;
  }
  .viev-all{
       color:#7A7A7A;
        font-size:18px;
        font-weight:700;
        margin-top: 5px;
        display: inline;
        text-decoration: none;
      }
      .viev-all:hover {
        color:#000;
        transition: all 0.3s;
  }
  .button-active:hover{
    background-color: #DA9DFF;
  }
  .button-active:hover svg path{
       fill:#000;
    transition:0.3s ease;
  }
  
.related-post-image-container{
  height: 250px;
    overflow: hidden;
    display: flex;
    justify-content: center;
  margin-bottom:5px;
  border-radius:10px;
}
  .related-post-title {
    margin-top: 10px;
    font-size: 18px;
    text-decoration: none;
    font-weight: 700;
    color: #000;
    margin-bottom: 34px;
  display: -webkit-box;
  -webkit-line-clamp: 2; 
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: normal;
  }

  .related-post a {
    color: #000;
    text-decoration: none;
    font-weight:400;
  }


.article-template{
  line-height: 1.8;
}
.article-template p{
  margin-top:0px !important;
}
 h1, h2{
  margin-top: 10px;
    margin-bottom: 10px;
}
.read_more-button{
    width: 100%;
    font-size: 14px;
    font-family: ShopifySans !important;
    background-color: #000;
    text-decoration: none;
    text-align: center;
    color: #fff;
    border-radius: 109px;
    display: block;
    padding: 10px 0;
    font-weight: 500;
  margin-top: auto !important;
}
.read_more-button:hover, .read_more-button:active {
  background-color: #DA9DFF;
  color:#000;
   transition: all 0.3s;
}
.circle--divider{
  font-size:14px;
  font-weight:700;
  font-family: "ShopifySans" !important;
  color:#00000080;
}
  .related-post-image{
    display: flex;
    align-items: center;
  }
  .page--width--narrow{
    max-width: 120rem;
    padding-left: 16px;
    padding-top: 0px;
  }
{% endstyle %}
      <style>
        a{
          text-decoration:none;
          flex-shrink: 0;
        }
      .scroll {
        margin: 30px auto 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 56px;
      }
      .scroll-container {
        overflow-x: scroll;
        scroll-behavior:smooth;
        scrollbar-width: none;
        max-width: 1200px;
      }
      .slider {
        display: flex;
        transform: translateX(0px);
        gap: 20px;
        transition: all 0.3s;
        margin-bottom: 25px;

      }
      .scroll-button {
        display: flex;
        align-items: center;
        justify-content: center;
        border: none;
            padding: 0;
        height: 24px;
        width: 24px;
        border-radius: 50%;
        background-color: rgba(0, 0, 0, 0.1);
        transition:0.3s ease;
      }
      .scroll_year-block {
        height: 100%;
        width:200px;
        flex-shrink: 0;
        display: grid;
        padding: 20px 26px;
        border: 1px rgba(0, 0, 0, 0.2) solid;
        border-radius: 18px;
        background-color: #f4f4f4;
      }
      .icon {
        opacity:0;
        display: flex;
        align-items: center;
      }
      .active .icon {
        opacity:1;
        display: flex;
        align-items: center;
      }
      .active {
        background-color: #DA9DFF;
        border: 1px solid #2e2e2e;
      }
      .button-active {
        background-color: #000000;
        cursor:pointer;
      }
      .active .scroll_year-block_image {
        box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 1px,
          rgba(0, 0, 0, 0.09) 0px 4px 2px, rgba(0, 0, 0, 0.09) 0px 8px 4px,
          rgba(0, 0, 0, 0.09) 0px 16px 8px, rgba(0, 0, 0, 0.09) 0px 32px 16px;
      }
      .scroll_year-block_content {
        display: flex;
        gap:30px;
        justify-content: space-between;
        align-items: center;
        margin: 0 0 15px 0;
      }
         {% if collection.metafields.custom.number_texture %} 
            .scroll_year-block_content {
        margin: 0 0 5px 0;
      }
            {% endif %}
        .texture{
          color:#000;
          margin:0 0 10px 0;
          font-size:12px;
        }
      .year_title {  
        margin: 0;
        font-size: 12px;
        font-weight: 800;
      }
      .scroll_year-block_image {
        display: flex;
        border-radius: 5px;
        overflow: hidden;
        align-self:end;
      }
      .scroll_year-block_image img {
        width: 100%;
      }
      .scrollbar{
        width:100%;
        height:4px;
        background-color:#2E2E2E33;
        border-radius:50px;
        display:none;
      }
       .track{
        width:0%;
        transition: 0.3s all;
        display:block !important;
        height:4px;
        background-color:#2E2E2E;
        border-radius:50px;
      }
        @media screen and (max-width: 1000px){
          .page-width--narrow{
    max-width: 120rem;
    padding-left: 16px;
    padding-top: 0px;
  }
          .circle--divider{
            font-size:12px;
          }
          .related-post-title{
            font-size:16px;
          }
          .read_more-button{
            padding:15px 0
          }
          .year-filter-mobile{
            display:block;
          }
        a{
          text-decoration:none;
          flex-shrink: 0;
        }
      .scroll {
        margin: 30px auto 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 56px;
      }
      .scroll-container {
        overflow-x: scroll;
        scroll-behavior:smooth;
        max-width: 1200px;
      }
      .slider {
        display: flex;
        transform: translateX(0px);
        gap: 20px;
        transition: all 0.3s;
        margin-bottom: 25px;

      }
      .scroll-button {
        display: none;
        align-items: center;
        justify-content: center;
        border: none;
    height: 24px;
    width: 24px;
        border-radius: 50%;
        background-color: rgba(0, 0, 0, 0.1);
      }
      .scroll_year-block {
        width:200px;
        height: 100%;
        flex-shrink: 0;
        display: grid;
        padding: 20px 26px;
        border: 1px rgba(0, 0, 0, 0.2) solid;
        border-radius: 18px;
        background-color: #f4f4f4;
      }
      .icon {
        opacity:0;
        display: flex;
        align-items: center;
      }
      .active .icon {
        opacity:1;
        display: flex;
        align-items: center;
      }
      .active {
        background-color: #DA9DFF;
        border: 1px solid #2e2e2e;
      }
      .button-active {
        background-color: #000000;
        cursor:pointer;
      }
      .active .scroll_year-block_image {
        box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 1px,
          rgba(0, 0, 0, 0.09) 0px 4px 2px, rgba(0, 0, 0, 0.09) 0px 8px 4px,
          rgba(0, 0, 0, 0.09) 0px 16px 8px, rgba(0, 0, 0, 0.09) 0px 32px 16px;
      }
      .scroll_year-block_content {
        display: flex;
        gap:30px;
        justify-content: space-between;
        align-items: center;
        margin: 0 0 15px 0;
      }
          {% if collection.metafields.custom.number_texture %} 
            .scroll_year-block_content {
        margin: 0 0 5px 0;
      }
            {% endif %}
      .year_title {
        margin: 0;
        font-size: 12px;
        font-weight: 800;
      }
      .scroll_year-block_image {
        display: flex;
        border-radius: 5px;
        overflow: hidden;
      }
      .scroll_year-block_image img {
        width: 100%;
      }
      .scrollbar{
        display:none;
        width:100%;
        height:4px;
        background-color:#2E2E2E33;
        border-radius:50px;
        
      }
      
       .track{
        width:0%;
        transition: 0.3s all;
        display:block !important;
        height:4px;
        background-color:#2E2E2E;
        border-radius:50px;
      }
          #style-1::-webkit-scrollbar-track
{
	border-radius: 10px;
	background-color: #2E2E2E33
}

#style-1::-webkit-scrollbar
{
  	border-radius: 10px;
	width: 12px;
	background-color: #2E2E2E33;
}

#style-1::-webkit-scrollbar-thumb
{
	border-radius: 10px;
	background-color:  #2E2E2E;
}
        }
        .related-posts {
       max-width: var(--page-width);
}
    </style>
<div class="related-posts page-width">
    <h3 style="color:#000;font-size:24px;font-weight:700; margin-bottom: 10px;">{{ section.settings.label }}</h3>
  <div class="top-slider">    <a href="https://alite.cc/blogs/news" class="viev-all">
          <h3 class="viev-all">
            {{ section.settings.link }}
          </h3>
        </a>
  <div class="blog-slider-buttons">
            <button class="scroll-button button-left"><svg width="15" height="12" viewBox="0 0 15 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14 6.64648C14.4142 6.64648 14.75 6.3107 14.75 5.89648C14.75 5.48227 14.4142 5.14648 14 5.14648L14 6.64648ZM0.612527 5.36615C0.319633 5.65905 0.319633 6.13392 0.612527 6.42681L5.3855 11.1998C5.67839 11.4927 6.15326 11.4927 6.44616 11.1998C6.73905 10.9069 6.73905 10.432 6.44616 10.1391L2.20352 5.89648L6.44616 1.65384C6.73905 1.36095 6.73905 0.886077 6.44616 0.593184C6.15326 0.30029 5.67839 0.30029 5.3855 0.593184L0.612527 5.36615ZM14 5.14648L1.14286 5.14648L1.14286 6.64648L14 6.64648L14 5.14648Z" fill="white"/>
</svg>
</button>
            <button class="scroll-button button-right button-active"><svg width="15" height="12" viewBox="0 0 15 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1 5.14648C0.585786 5.14648 0.25 5.48227 0.25 5.89648C0.25 6.3107 0.585786 6.64648 1 6.64648L1 5.14648ZM14.3875 6.42682C14.6804 6.13392 14.6804 5.65905 14.3875 5.36616L9.6145 0.593184C9.32161 0.300291 8.84674 0.300291 8.55384 0.593184C8.26095 0.886078 8.26095 1.36095 8.55384 1.65384L12.7965 5.89649L8.55384 10.1391C8.26095 10.432 8.26095 10.9069 8.55384 11.1998C8.84674 11.4927 9.32161 11.4927 9.6145 11.1998L14.3875 6.42682ZM1 6.64648L13.8571 6.64649L13.8571 5.14649L1 5.14648L1 6.64648Z" fill="white"/>
</svg>
</button>
  </div>
  </div>

    <div class="scroll">

        <div id="style-1" class="scroll-container">
            <div class="slider">
                {% for block in section.blocks limit: 5 %}
                    {% assign post = articles[block.settings.article] %}
                    <a class="related-post" href="{{ post.url }}" style="display:flex; text-decoration:none;">
                        <div class="related-post-image-container">
                            {% if post.image %}
                                <img src="{{ post.image | image_url }}" alt="{{ post.title }}">
                            {% else %}
                                <img src="https://cdn.shopify.com/s/files/1/0761/7943/9962/files/black-logo-green_404b42a3-7904-4ffb-80af-ad6804448f6b.png?v=1726152281" alt="Default Logo" style="background-color: #fff; width: 150px; height: auto;">
                            {% endif %}
                        </div>
                        <span class="circle--divider" itemprop="dateCreated pubdate datePublished">
                            {{ post.published_at | time_tag: format: 'date' }}
                        </span>
                        <p class="related-post-title">{{ post.title }}</p>
                        <div class="read_more-button">Read more</div>
                    </a>
                {% endfor %}
            </div>
        </div>

    </div>
    <div class="scrollbar"><div class="track"></div></div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const buttonLeft = document.querySelector('.button-left');
    const buttonRight = document.querySelector('.button-right');
    const slider = document.querySelector('.slider');
    const posts = document.querySelectorAll('.related-post');
    const track = document.querySelector('.track');

    if (!slider || posts.length === 0) return;

    let blockWidth = posts[0].offsetWidth + 20; 
    let productsToShow = Math.floor(slider.parentElement.offsetWidth / blockWidth);
    let productAmount = posts.length;
    let trackWidth = (productsToShow / productAmount) * 100;
    track.style.width = `${trackWidth}%`;
    
    let counter = 0;
    let transformInPx = 0;
    let percentPerBlock = (1 / productAmount) * 100;

    if (productsToShow >= productAmount) {
      buttonLeft.style.display = "none";
      buttonRight.style.display = "none";
      document.querySelector(".scrollbar").style.display = "none";
      document.querySelector(".scroll").style.margin = "30px 0 0";
    }
    
    buttonLeft.addEventListener("click", function() {
      if (counter <= 0) return;
      counter--;
      transformInPx -= blockWidth;
      trackWidth -= percentPerBlock;
      slider.style.transform = `translateX(-${transformInPx}px)`;
      track.style.width = `${trackWidth}%`;
      buttonRight.classList.add("button-active");
      if (counter === 0) buttonLeft.classList.remove("button-active");
    });

    buttonRight.addEventListener("click", function() {
      if (counter >= productAmount - productsToShow) return;
      counter++;
      transformInPx += blockWidth;
      trackWidth += percentPerBlock;
      slider.style.transform = `translateX(-${transformInPx}px)`;
      track.style.width = `${trackWidth}%`;
      buttonLeft.classList.add("button-active");
      if (counter === productAmount - productsToShow) buttonRight.classList.remove("button-active");
    });
  });
</script>

{% schema %}
{
    "name": "Blog posts",
    "settings": [
        { "type": "text", "id": "label", "label": "Label" },
        { "type": "text", "id": "link", "label": "Link" },
        { "type": "text", "id": "link_text", "label": "Link Text" }
    ],
    "blocks": [
        {
            "type": "article",
            "name": "Blog Post",
            "limit": 5,
            "settings": [
                {
                    "type": "article",
                    "id": "article",
                    "label": "Select Blog Post"
                }
            ]
        }
    ],
    "presets": [{ "name": "Blog posts", "blocks": [{ "type": "article" }] }]
}
{% endschema %}

