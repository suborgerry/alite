function tsUpdateCounts(t){const e=document.querySelector(".ts-controlbar:not(.ts-controlbar--collection)");fetch(window.Shopify.routes.root+"cart.js").then((t=>t.json())).then((t=>{t.item_count>1?(e.querySelector(".ts-controlbar__right").removeAttribute("show"),e.querySelector(".ts-controlbar__left").removeAttribute("show")):t.item_count>0?e.querySelector(".ts-controlbar__left").removeAttribute("show"):(e.querySelector(".ts-controlbar__right").setAttribute("show",!0),e.querySelector(".ts-controlbar__left").setAttribute("show",!0)),document.querySelector(".ts-cart__bubble").innerHTML=t.item_count>0?` (${t.item_count})`:"",t.item_count>0&&(document.querySelector(".ts-cart__bubble-mob").style.display="flex",document.querySelector(".ts-cart__bubble-mob").innerHTML=`${t.item_count}`,document.querySelector(".ts-header__more-text")&&(document.querySelector(".ts-header__more-text").style.display="inline"));let o=1,r=0;t.item_count>=10?(o=.7,r=0):t.item_count>=6?(o=.75,r=10-t.item_count):t.item_count>=4?(o=.9,r=6-t.item_count):(r=4-t.item_count,o=1);let c=e.querySelector(".ts-price__original"),n=e.querySelector(".ts-price__discount"),s=c.innerText.replace(/[0-9]/g,"").replaceAll(",","").replaceAll(".","").trim(),i=10;i=t.item_count>=6?30:t.item_count>=4?25:10;const u=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),l=u.format(t.original_total_price/100).replace("$","");if(1==o?c.innerText=s+l:n.innerText=s+l,1!==o){c.style.color="#EC4545",n.style.display="inline-block";const e=u.format(t.original_total_price*o/100).replace("$","");c.innerText=s+e}else n.style.display="none";document.querySelector(".header-discount__count").innerText=r,document.querySelector(".header-discount__pers").innerText=i,0==r&&document.querySelector(".header-discount__mesage-top").classList.add("final");const a=document.querySelector(".ts-discount__bar");let _=document.querySelector(".ts-discount__message-2");_&&_.innerText.includes("{count_left}")?_.innerHTML=`${_.innerText.split("{count_left}")[0]}<span class="ts-left-count">${r}</span>${_.innerText.split("{count_left}")[1]}`:_&&_.querySelector(".ts-left-count")&&(_.querySelector(".ts-left-count").innerText=r),0==r&&document.querySelector(".ts-discount__main")&&document.querySelector(".ts-discount__main").classList.add("final");let m="error",d=10;m=0==t.item_count||1==t.item_count||4==t.item_count||6==t.item_count?"error":t.item_count>1&&t.item_count<4||5==t.item_count||t.item_count>6&&t.item_count<10?"warn":"success",d=0==t.item_count||4==t.item_count||6==t.item_count?10:1==t.item_count||7==t.item_count?25:2==t.item_count||5==t.item_count||8==t.item_count?50:3==t.item_count||9==t.item_count?75:100;const y=document.querySelector(".header-discount__bar");a&&(a.classList.remove("error"),a.classList.remove("warn"),a.classList.remove("success"),a.classList.add(m)),y&&(y.classList.remove("error"),y.classList.remove("warn"),y.classList.remove("success"),y.classList.add(m)),100==d?(a&&(a.querySelector(".ts-bar span").style.width="calc(100% + 2px)"),y&&(y.querySelector(".ts-bar span").style.width="calc(100% + 2px)")):(a&&(a.querySelector(".ts-bar span").style.width=d+"%"),y&&(y.querySelector(".ts-bar span").style.width=d+"%")),a&&(a.querySelector("span[data-discount]").innerText=i+"{{ 'ts.bar.right_discount' | t }}"),e.querySelector(".ts-icon__count").innerText=t.item_count,e.setAttribute("data-items",t.item_count)}))}window.addEventListener("DOMContentLoaded",(()=>{tsUpdateCounts()})),document.querySelector(".ts-controlbar__checkout").addEventListener("click",(t=>{t.target.closest(".ts-controlbar__right").hasAttribute("show")||(window.location.pathname="/checkout")}));