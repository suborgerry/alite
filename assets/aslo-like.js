document.querySelector(".section-{{ section.id }} .ts-products").addEventListener("click",(t=>{if(t.target.classList.contains("ts-quantity__minus")){const e=t.target.closest(".ts-quantity").querySelector(".ts-quantity__input");0!=e.value&&(e.value-=1)}else if(t.target.classList.contains("ts-quantity__plus")){const e=t.target.closest(".ts-quantity").querySelector(".ts-quantity__input");99!=e.value&&(e.value=parseInt(e.value)+1)}else if(t.target.classList.contains("ts-product__button")){const e=parseInt(t.target.closest(".ts-product").querySelector(".ts-quantity__input").value),s=parseInt(t.target.closest(".ts-product").dataset.id);e>0&&(t.target.closest(".ts-products").setAttribute("loading",!0),fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:s,quantity:e}]})}).then((t=>t.json())).then((e=>{e.items?(t.target.closest(".ts-products").removeAttribute("loading"),t.target.classList.add("active"),t.target.closest(".ts-product").querySelector(".ts-quantity__input").value=1,tsUpdateCountsCol&&tsUpdateCountsCol()):e.message&&window.alert(e.message)})))}})),document.querySelectorAll(".section-{{ section.id }} .ts-products input").forEach((t=>{t.addEventListener("keyup",(t=>{const e=parseInt(t.target.value);e&&(t.target.value=e>99?99:e)}))}));